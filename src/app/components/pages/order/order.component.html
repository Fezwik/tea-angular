<div class="container h-100">
  <div class="makeOrder row g-3 w-50 mx-auto mb-4" *ngIf="!success">
    <h3 class="fw-bold my-5 text-center">Сделать заказ</h3>
    <div class="col-lg-12">
      <div class="mx-auto mb-4">
        <label for="item" class="form-label">Товар</label>
        <input type="text" class="form-control" id="item" placeholder="" [(ngModel)]="formValues.product" disabled>
      </div>
    </div>
    <form [formGroup]="orderForm">
      <div class="row gx-4">
        <div class="col-lg-4">
          <div class="mb-3">
            <label for="name" class="form-label">Имя</label>
            <input type="text" class="form-control" id="name" formControlName="name" placeholder="">
          </div>
          <div *ngIf="name?.invalid && (name?.dirty || name?.touched)">
            <div class="text-danger" *ngIf="name?.errors?.['required']">
              Введите имя
            </div>
            <div class="text-danger" *ngIf="name?.errors?.['pattern']">
              Имя должно содержать только буквы!
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="mb-3">
            <label for="lastName" class="form-label">Фамилия</label>
            <input type="text" class="form-control" id="lastName" placeholder="" formControlName="lastName">
          </div>
          <div *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)">
            <div class="text-danger" *ngIf="lastName?.errors?.['required']">
              Введите фамилию
            </div>
            <div class="text-danger" *ngIf="lastName?.errors?.['pattern']">
              Фамилия должна содержать только буквы!
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="mb-3">
            <label for="phone" class="form-label">Телефон</label>
            <input type="text" class="form-control" id="phone" placeholder="" formControlName="phone">
          </div>
          <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
            <div class="text-danger" *ngIf="phone?.errors?.['required']">
              Введите телефон
            </div>
            <div class="text-danger" *ngIf="phone?.errors?.['pattern']">
              Телефон слишком короткий
            </div>
          </div>
        </div>
      </div>
      <div class="row gx-4">
        <div class="col-lg-6">
          <div class="mb-3">
            <label for="country" class="form-label">Страна</label>
            <input type="text" class="form-control" id="country" placeholder="" formControlName="country">
          </div>
          <div *ngIf="country?.invalid && (country?.dirty || country?.touched)">
            <div class="text-danger" *ngIf="country?.errors?.['required']">
              Введите Название страны
            </div>
            <div class="text-danger" *ngIf="country?.errors?.['pattern']">
              Название страны должно содержать только буквы и пробел
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="mb-3">
            <label for="zip" class="form-label">Индекс</label>
            <input type="text" class="form-control" id="zip" placeholder="" formControlName="zip">
          </div>
          <div *ngIf="zip?.invalid && (zip?.dirty || zip?.touched)">
            <div class="text-danger" *ngIf="zip?.errors?.['required']">
              Введите индекс
            </div>
            <div class="text-danger" *ngIf="zip?.errors?.['pattern']">
              ZIP код должен содержать только цифры
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-12">
        <div class="mb-3">
          <label for="address" class="form-label">Адрес</label>
          <input type="text" class="form-control" id="address" placeholder="" formControlName="address">
        </div>
        <div *ngIf="address?.invalid && (address?.dirty || address?.touched)">
          <div class="text-danger" *ngIf="address?.errors?.['required']">
            Введите адрес
          </div>
          <div class="text-danger" *ngIf="address?.errors?.['pattern']">
            Недопустимые символы
          </div>
        </div>
      </div>
      <div class="col-lg-12">
        <div class="mb-3">
          <label for="comment" class="form-label">Комментарий к заказу</label>
          <textarea type="text" class="form-control form-control-lg" id="comment" rows="3" placeholder=""
                    formControlName="comment"></textarea>
        </div>
      </div>
    </form>
    <button type="button" class="btn btn-primary px-5 mb-5" id="create-order" (click)="createOrder()">Отправить</button>
    <div class="text-danger" *ngIf="error">
      Произошла ошибка. Попробуйте еще раз.
    </div>
  </div>
  <div *ngIf="success" class="text-center align-content-center h-100">
      <h1>Спасибо за заказ!</h1>
  </div>
</div>
